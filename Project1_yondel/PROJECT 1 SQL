PROJECT 1 SQL


CHARACTER TABLE

DROP TABLE CHARACTERS; 
DROP TABLE CHARACTERS; 
CREATE TABLE CHARACTERS 
(
ET_ID int PRIMARY KEY NOT NULL,
NAME VARCHAR(225),
LEVEL INT,
JOB_ID INT NOT NULL,
HEALTH INT,
INVENTORY_ID INT NOT NULL,
EXP INT
);
CREATE TABLE JOB
(
JOB_ID INT PRIMARY KEY,
CLASS_NAME VARCHAR(225),
BASE_HEALTH INT,
BASE_ARMOR INT,
CRIT_CHANCE INT,
ABILITY_1_ID INT,
ABILITY_2_ID INT,
ABILITY_3_ID INT
);

CREATE TABLE INVENTORY
(
INVENTORY_ID INT PRIMARY KEY,
CHARACTER_ID INT NOT NULL,
EQUIPED_WEAPON VARCHAR(225),
SLOT_1 VARCHAR(225),
SLOT_2 VARCHAR(225),
SLOT_3 VARCHAR(225),
SLOT_4 VARCHAR(225),
SLOT_5 VARCHAR(225));


DROP TABLE ABILITIES;
CREATE TABLE ABILITIES
(
ABILITY_ID INT PRIMARY KEY,
ABILITY_NAME VARCHAR(335) NOT NULL,
ABILITY_DESCRIPTOR VARCHAR(225),
ABILITY_TARGET  VARCHAR(225) NOT NULL,
ABILITY_DAMAGE INT,
HIT_CHANCE INT,
COOL_DOWN INT
);

INSERT INTO ABILITIES VALUES(1, 'REND', 'SLASH WITH YOUR WEAPON', 'ENEMY', 5, 90, 0);
INSERT INTO ABILITIES VALUES(2, 'CHARGE', 'CHARGE YOUR ENEMY MAKING THEM SKIP THEIR TURN', 'ENEMY', NULL, 100, 4);
INSERT INTO ABILITIES VALUES(3, 'BOLSTER', 'BOLSTER YOUR ARMOR FOR THE REST OF THIS FIGHT(STACKABLE)', 'ARMOR', 5, 100, 3);
INSERT INTO ABILITIES VALUES(4, 'FIREBALL', 'SHOOT A BALL OF FIRE AT YOUR ENEMY', 'ENEMY', 5, 90, 0);
INSERT INTO ABILITIES VALUES(5, 'ICY TOUCH', 'DAMAGE AN ENEMY INCREASING THE TURN COUNTER FOR THE NEXT SPELL THEY USE', 'ENEMY', 2, 50, 4);
INSERT INTO ABILITIES VALUES(6, 'DISPERSION', 'DISPERSE YOUR FORM CAUSING THE NEXT TWO ENEMY ATTACKS TO MISS', 'SELF', NULL, 100, 6);
INSERT INTO ABILITIES VALUES(7, 'SMITE', 'CALL THE POWER OF THE LIGHT ON YOUR ENEMY', 'ENEMY', 5, 90, 0);
INSERT INTO ABILITIES VALUES(8, 'HEAL', 'HEAL YOURSELF', 'SELF', 10, 100, 3);
INSERT INTO ABILITIES VALUES(9, 'ABSORB', 'CREATE AN ABSORB SHEILD GIVING YOU ARMOR FOR THE NEXT TWO TURNS', 'ARMOR', 5, 100, 2);
INSERT INTO ABILITIES VALUES(10, 'STAB', 'STAB WITH YOUR WEAPON', 'ENEMY', 5, 90, 0);
INSERT INTO ABILITIES VALUES(11, 'POISON VIAL', 'THROW A POISION WEAPON AT YOUR ENEMY(ALWAYS CRITS)', 'ENEMY', 5, 90, 0);
INSERT INTO ABILITIES VALUES(12, 'EVASION', 'YOUR OPPENENT MISSES THEIR NEXT ATTACK', 'SELF', NULL, 100, 0);




DROP TABLE CHARACTERS; 
CREATE TABLE CHARACTERS 
(
ET_ID int PRIMARY KEY NOT NULL,
NAME VARCHAR(225),
LEVEL INT,
JOB_ID INT NOT NULL,
HEALTH INT,
INVENTORY_ID INT NOT NULL,
EXP INT,
);
ALTER TABLE CHARACTERS 
ADD FOREIGN KEY(INVENTORY_ID) REFERENCES INVENTORY(INVENTORY_ID);




DROP TABLE ABILITIES;
CREATE TABLE ABILITIES
(
ABILITY_ID INT PRIMARY KEY,
ABILITY_NAME VARCHAR(335) NOT NULL,
ABILITY_DESCRIPTOR VARCHAR(225),
ABILITY_TARGET  VARCHAR(225) NOT NULL,
ABILITY_DAMAGE INT,
HIT_CHANCE INT,
COOL_DOWN INT
);

INSERT INTO ABILITIES VALUES(1, 'REND', 'SLASH WITH YOUR WEAPON', 'ENEMY', 5, 90, 0);
INSERT INTO ABILITIES VALUES(2, 'CHARGE', 'CHARGE YOUR ENEMY MAKING THEM SKIP THEIR TURN', 'ENEMY', NULL, 100, 4);
INSERT INTO ABILITIES VALUES(3, 'BOLSTER', 'BOLSTER YOUR ARMOR FOR THE REST OF THIS FIGHT(STACKABLE)', 'ARMOR', 5, 100, 3);
INSERT INTO ABILITIES VALUES(4, 'FIREBALL', 'SHOOT A BALL OF FIRE AT YOUR ENEMY', 'ENEMY', 5, 90, 0);
INSERT INTO ABILITIES VALUES(5, 'ICY TOUCH', 'DAMAGE AN ENEMY INCREASING THE TURN COUNTER FOR THE NEXT SPELL THEY USE', 'ENEMY', 2, 50, 4);
INSERT INTO ABILITIES VALUES(6, 'DISPERSION', 'DISPERSE YOUR FORM CAUSING THE NEXT TWO ENEMY ATTACKS TO MISS', 'SELF', NULL, 100, 6);
INSERT INTO ABILITIES VALUES(7, 'SMITE', 'CALL THE POWER OF THE LIGHT ON YOUR ENEMY', 'ENEMY', 5, 90, 0);
INSERT INTO ABILITIES VALUES(8, 'HEAL', 'HEAL YOURSELF', 'SELF', 10, 100, 3);
INSERT INTO ABILITIES VALUES(9, 'ABSORB', 'CREATE AN ABSORB SHEILD GIVING YOU ARMOR FOR THE NEXT TWO TURNS', 'ARMOR', 5, 100, 2);
INSERT INTO ABILITIES VALUES(10, 'STAB', 'STAB WITH YOUR WEAPON', 'ENEMY', 5, 90, 0);
INSERT INTO ABILITIES VALUES(11, 'POISON VIAL', 'THROW A POISION WEAPON AT YOUR ENEMY(ALWAYS CRITS)', 'ENEMY', 5, 90, 0);
INSERT INTO ABILITIES VALUES(12, 'EVASION', 'YOUR OPPENENT MISSES THEIR NEXT ATTACK', 'SELF', NULL, 100, 0);

SELECT * FROM CHARACTERS;

SELECT * FROM ABILITI



INSERT INTO JOB VALUES (1, 'WARRIOR', 100, 110, 0, 1,2,3);
INSERT INTO JOB VALUES (2, 'MAGE', 100, 50, 40, 4,5,6);
INSERT INTO JOB VALUES (3, 'PRIEST', 100, 80, 10, 7,8,9);
INSERT INTO JOB VALUES (4, 'ROGUE', 100, 60, 75, 10,11,12);

DROP TABLE LEVELS;

CREATE TABLE LEVELS (
LEVEL_NUM INT,
XP_NEEDED_FOR_LEVEL INT,
HEALTH_INC INT,
DAMAGE_INC INT
);

INSERT INTO LEVELS VALUES(1 ,10, 0, 0);
INSERT INTO LEVELS VALUES(2 ,25, 100, 5);
INSERT INTO LEVELS VALUES(3 ,55, 200, 10);
INSERT INTO LEVELS VALUES(4 ,115, 300, 20);
INSERT INTO LEVELS VALUES(5 ,235, 400, 40);
INSERT INTO LEVELS VALUES(6 ,475, 600, 80);
INSERT INTO LEVELS VALUES(7 ,955, 800, 100);
INSERT INTO LEVELS VALUES(8 ,3820, 1000, 120);
INSERT INTO LEVELS VALUES(9 ,15280, 1500, 200 );
INSERT INTO LEVELS VALUES(10 ,0, 3000, 400);





drop table items;
CREATE TABLE ITEMS (
ITEM_ID INT,
ITEM_NAME VARCHAR(225),
ITEM_TYPE VARCHAR(225),
ITEM_DAM_INC INT,
ITEM_HEALTH_INC INT,
ITEM_DESC VARCHAR(225));

INSERT INTO ITEMS VALUES(1, 'Felspar', 'Weapon', 200, 0, 'Legendary Spear used by the Voidlord Felnir during the Void Wars');
INSERT INTO  ITEMS VALUES(2, 'Belthos Talisman', 'Amulet', 0, 400, 'Amulet worn by Belthos of the Lightsworn during the Void Wars');
INSERT INTO ITEMS VALUES(3, 'World Atlas', 'Amulet', 200, 800, 'The personal log book of Ludwig the Historian');
INSERT INTO ITEMS VALUES(4, 'The eye of Maltos', 'Weapon', 5000, 8000, 'The eye that sealed the storm and began the Void Wars'); 
INSERT INTO ITEMS VALUES(5, 'Short Sword', 'Weapon', 10, 20, 'Worn and brittle, better at defense than offense.');
INSERT INTO ITEMS VALUES(6, 'Iron Dagger', 'Weapon', 20, 0, 'Pointy enough.');
INSERT INTO ITEMS VALUES(7, 'Oak Staff', 'Weapon', 15, 5, 'Its creator does not know what sandpaper is.');
INSERT INTO ITEMS VALUES (8, 'Oak Scepter', 'Weapon', 5, 30, 'I guess you can hit things with it.');
INSERT INTO ITEMS VALUES(9, 'Steel Sword', 'Weapoon', 25, 50, 'Polished steel, if you ignore all the rust.');
INSERT INTO ITEMS VALUES(10, 'Steel Dagger', 'Weapon', 60, 10, 'Remember to stick em with the pointy end.');
INSERT INTO ITEMS VALUES(11, 'Maple Staff', 'Weapon', 55, 20, 'Maybe sandpaper does not exist in this world.');
INSERT INTO ITEMS VALUES(12, 'Maple Scepter', 'Weapon',15 , 120, 'Boink. Is that still cringe?');
INSERT INTO ITEMS VALUES(13, 'Mythril Longsword', 'Weapon', 50, 100, 'Some how heavier and less heavier than it looks.');
INSERT INTO ITEMS VALUES(14, 'Mythril Dagger', 'Weapon', 200, 15 , 'Okay, now really make sure to stick them with the pointy end.');
INSERT INTO ITEMS VALUES(15, 'Erdwood Staff', 'Weapon',  150, 50 , 'Maybe craftsmen in this world just like splinters.');
INSERT INTO ITEMS VALUES(16, 'Erdwood Scepter', 'Weapon', 30 ,220 , 'I do not care even if it it cringe. Boink.');


INSERT INTO CHARACTERS VALUES(1, 'Yondel', 10, 3, 16000,1,0, 'Alive')
insert into characters values (2, 'Ulrich', 6, 1, 300, 2, 0);
insert into characters values (3, 'Davrim', 4, 4, 150, 3, 54);
insert into characters values (4, 'Issa', 5, 2, 250, 4, 87);

SELECT JOB.JOB_ID, JOB.CLASS_NAME as Class, ABILITIES.ABILITY_NAME AS Abilities, ABILITIES.ABILITY_DAMAGE as Damage
FROM JOB
CROSS JOIN ABILITIES 
ON JOB.ABILITY_1_ID = ABILITIES.ABILITY_ID OR JOB.ABILITY_2_ID = ABILITIES.ABILITY_ID OR JOB.ABILITY_3_ID = ABILITIES.ABILITY_ID;


SELECT CHARACTERS.NAME AS Name, Characters.LEVEL AS Level, CHARACTERS.EXP AS "Current EXP", LEVELS.XP_NEEDED_FOR_LEVEL AS "EXP need for next level"
FROM CHARACTERS
INNER JOIN LEVELS ON CHARACTERS.LEVEL = LEVELS.LEVEL_NUM

ALTER TABLE CHARACTERS 
ADD FOREIGN KEY(INVENTORY_ID) REFERENCES INVENTORY(INVENTORY_ID);


ALTER TABLE CHARACTERS
ADD FOREIGN KEY(LEVEL) REFERENCES LEVELS(LEVEL_NUM);

ALTER TABLE CHARACTERS
ADD FOREIGN KEY(JOB_ID) REFERENCES JOB(JOB_ID)

ALTER TABLE INVENTORY
ADD FOREIGN KEY(CHARACTER_ID) REFERENCES CHARACTERS(ET_ID);

ALTER TABLE INVENTORY 
MODIFY COLUMN SLOT_1 INT;
ALTER TABLE INVENTORY 
MODIFY COLUMN SLOT_2 INT;

ALTER TABLE INVENTORY 
MODIFY COLUMN SLOT_3 INT;

ALTER TABLE INVENTORY 
MODIFY COLUMN SLOT_4 INT;

ALTER TABLE INVENTORY 
MODIFY COLUMN SLOT_5 INT;

ALTER TABLE INVENTORY 
MODIFY COLUMN EQUIPED_WEAPON INT;

ALTER TABLE INVENTORY 
ADD FOREIGN KEY(EQUIPED_WEAPON) REFERENCES ITEMS(ITEM_ID);

ALTER TABLE INVENTORY 
ADD FOREIGN KEY(SLOT_1) REFERENCES ITEMS(ITEM_ID);
ALTER TABLE INVENTORY 
ADD FOREIGN KEY(SLOT_2) REFERENCES ITEMS(ITEM_ID);
ALTER TABLE INVENTORY 
ADD FOREIGN KEY(SLOT_3) REFERENCES ITEMS(ITEM_ID);
ALTER TABLE INVENTORY 
ADD FOREIGN KEY(SLOT_4) REFERENCES ITEMS(ITEM_ID);
ALTER TABLE INVENTORY 
ADD FOREIGN KEY(SLOT_5) REFERENCES ITEMS(ITEM_ID);


priest has 8000 base health at level 10



THE SELECT STATMENT FOR CHARACTER SHEETS.

SELECT CHARACTERS.ET_ID AS ID, CHARACTERS.NAME AS NAME, CHARACTERS.LEVEL AS LEVEL, JOB.CLASS_NAME AS CLASS, ITEMS.ITEM_NAME AS WEAPON
FROM CHARACTERS
LEFT JOIN JOB ON JOB.JOB_ID = CHARACTERS.JOB_ID
LEFT JOIN INVENTORY ON INVENTORY.INVENTORY_ID = CHARACTERS.INVENTORY_ID
LEFT JOIN ITEMS ON ITEMS.ITEM_ID = INVENTORY.EQUIPED_WEAPON




//c.SQLNewCharBuild("Adam", 1)
    //c.sqlPrintTable("abilities")

    //c.CallCharacterSheet("Adam", 2)
   // c.sqlPrintTable("Characters")



    DROP VIEW IF EXISTS TOTAL_DAMAGE;
CREATE VIEW TOTAL_Damage AS 
SELECT CHARACTERS.NAME AS 'Character Name',ABILITIES.ABILITY_NAME AS 'Ability Name', ABILITIES.ABILITY_DAMAGE + LEVELS.DAMAGE_INC AS 'Full Damage', ABILITIES.ABILITY_TARGET AS Target
FROM CHARACTERS
LEFT JOIN JOB ON CHARACTERS.JOB_ID = JOB.JOB_ID
LEFT JOIN ABILITIES ON JOB.ABILITY_1_ID =ABILITIES.ABILITY_ID OR JOB.ABILITY_2_ID = ABILITIES.ABILITY_ID OR JOB.ABILITY_3_ID = ABILITIES.ABILITY_ID
LEFT JOIN LEVELS ON CHARACTERS.LEVEL = LEVELS.LEVEL_NUM
WHERE ET_ID =2;


SELECT * FROM TOTAL_DAMAGE




c.addEnemy("src/main/scala/Yondel/Book1t.csv")